<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Map Poster Studio</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <main class="shell">
      <header class="hero">
        <div class="brand">
          <span class="brand-mark"></span>
          <span class="brand-text">Maptoposter</span>
        </div>
        <h1>City Map Poster Generator</h1>
        <p>
          Pick a city, choose a radius and palette, and the map will be generated for you!
        </p>
      </header>

      <section class="grid">
        <div class="panel form-panel">
          <div class="panel-header">
            <div class="panel-title-row">
              <h2>Build a Poster</h2>
              <div class="examples-menu">
                <button id="examples-toggle" class="ghost-btn" type="button">
                  Examples
                </button>
                <div id="examples-list" class="examples-list" aria-hidden="true"></div>
              </div>
            </div>
            <p>All current CLI options are supported</p>
          </div>

          <form id="poster-form" class="poster-form">
            <div class="field-group">
              <label for="city">City</label>
              <div class="autocomplete">
                <input
                  id="city"
                  name="city"
                  type="text"
                  placeholder="Paris"
                  autocomplete="off"
                  required
                />
                <div class="autocomplete-list" id="city-list"></div>
              </div>
            </div>
            <div class="field-group">
              <label for="country">Country</label>
              <div class="autocomplete">
                <input
                  id="country"
                  name="country"
                  type="text"
                  placeholder="France"
                  autocomplete="off"
                  required
                />
                <div class="autocomplete-list" id="country-list"></div>
              </div>
            </div>

            <div class="field-group distance-group">
              <div class="distance-row">
                <label for="distance-range">Radius (meters)</label>
                <input
                  id="distance-input"
                  name="distance"
                  type="number"
                  min="2000"
                  max="30000"
                  step="500"
                  value="29000"
                />
              </div>
              <input
                id="distance-range"
                type="range"
                min="2000"
                max="30000"
                step="500"
                value="29000"
              />
              <div class="distance-hint">
                4–6k for compact districts, 8–12k for downtown focus, 15–20k for
                big metros.
              </div>
            </div>

            <div class="field-group theme-group">
              <div class="theme-header">
                <label>Theme</label>
                <span class="theme-hint">Scroll to explore palettes</span>
              </div>
              <div id="theme-grid" class="theme-grid"></div>
            </div>

            <button class="primary-btn" type="submit">Generate Poster</button>
            <p id="form-error" class="form-error" role="alert"></p>
          </form>
        </div>

        <div class="panel status-panel">
          <div class="panel-header">
            <h2>Progress</h2>
            <p>Your poster is saved locally and added to the gallery below when finished.</p>
          </div>

          <div class="progress-card">
            <div class="progress-header">
              <span class="progress-title">Status</span>
              <span id="progress-percent" class="progress-percent">0%</span>
            </div>
            <div class="progress-bar">
              <div id="progress-fill" class="progress-fill"></div>
            </div>
            <p id="progress-message" class="progress-message">
              Ready to generate a map.
            </p>
          </div>

          <ul class="step-list" id="step-list">
            <li class="step" data-stage="queued">Queued</li>
            <li class="step" data-stage="geocode">Geocoding</li>
            <li class="step" data-stage="network">Street Network</li>
            <li class="step" data-stage="water">Water Features</li>
            <li class="step" data-stage="parks">Parks</li>
            <li class="step" data-stage="render">Rendering</li>
            <li class="step" data-stage="save">Saving</li>
            <li class="step" data-stage="done">Complete</li>
          </ul>

        </div>
      </section>

      <section class="gallery">
        <div class="gallery-header">
          <div class="gallery-title">
            <h2>Your Poster Gallery</h2>
            <span class="gallery-path" id="gallery-path"></span>
          </div>
          <div class="gallery-actions">
            <button id="open-gallery" class="ghost-btn" type="button">
              Open Folder
            </button>
          </div>
        </div>
        <div id="gallery-grid" class="gallery-grid"></div>
      </section>
    </main>

    <div class="lightbox" id="lightbox" aria-hidden="true">
      <div class="lightbox-backdrop" data-lightbox-close="true"></div>
      <div class="lightbox-panel" role="dialog" aria-modal="true">
        <button class="lightbox-close" type="button" data-lightbox-close="true">
          ✕
        </button>
        <button class="lightbox-nav prev" type="button" data-lightbox-prev="true">
          ‹
        </button>
        <div class="lightbox-image-wrap">
          <img id="lightbox-image" alt="Poster preview" />
        </div>
        <button class="lightbox-nav next" type="button" data-lightbox-next="true">
          ›
        </button>
        <div class="lightbox-caption" id="lightbox-caption"></div>
        <div class="lightbox-strip" id="lightbox-strip"></div>
      </div>
    </div>

    <script src="/static/app.js"></script>
  </body>
</html>
